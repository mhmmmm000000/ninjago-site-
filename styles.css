:root{
  --bg:#ffffff; --card:#ffffff; --muted:#6b7280; --accent:#0b5fff; --glass:rgba(0,0,0,0.03);
  --surface:#f8f9fb; --text:#111; --border:#eee; --accent-price:#D22B2B; --hard:#c2410c; --sale:#0b9b36;
}
:root.dark{
  --bg:#071123; --card:#071827; --muted:#9aa6b2; --accent:#66a4ff; --glass:rgba(255,255,255,0.03);
  --surface:#042233; --text:#e6f1ff; --border:#123046; --accent-price:#ff7b7b; --hard:#ff9b6b; --sale:#7ef2a8;
}
html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial; background:var(--bg); color:var(--text)}
.site-header{display:flex;align-items:center;justify-content:space-between;padding:14px 20px;background:var(--surface);border-bottom:1px solid var(--border)}
.brand .logo{font-weight:900;font-size:20px}
.brand .subtitle{font-size:13px;color:var(--muted)}
.controls{display:flex;gap:10px;align-items:center}
.search{padding:8px 12px;border-radius:10px;border:1px solid var(--border);min-width:220px;background:var(--card);color:inherit}
.btn{background:#111;color:#fff;padding:8px 10px;border-radius:9px;border:0;font-weight:700;cursor:pointer}
.small{background:transparent;color:var(--text);border:1px solid var(--border);padding:6px 8px;border-radius:8px}
.container{max-width:1200px;margin:20px auto;padding:0 16px}
.top-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.hint{color:var(--muted);font-size:14px}
.categories-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:14px}
.category-tile{background:var(--card);border-radius:12px;padding:18px;border:1px solid var(--border);cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:8px;transform:translateY(8px);opacity:0;transition:all .35s ease}
.category-tile.show{opacity:1;transform:none}
.cat-emoji{font-size:34px}
.cat-title{font-weight:800}
.cat-count{color:var(--muted)}
.grid.large{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:16px}
.card.big{display:flex;background:var(--card);border-radius:12px;overflow:hidden;border:1px solid var(--border);transform:translateY(8px);opacity:0;transition:all .35s ease}
.card.big.show{opacity:1;transform:none}
.card-media{flex:0 0 300px;background:var(--glass);display:flex;align-items:center;justify-content:center}
.card-media img{width:100%;height:100%;object-fit:cover}
.card-body{padding:12px;flex:1;display:flex;flex-direction:column;justify-content:space-between}
.card-body h3{margin:0;font-size:18px}
.meta{color:var(--muted);font-size:13px}
.small-note{font-size:12px;color:var(--muted)}
.price-row{display:flex;justify-content:space-between;align-items:center;margin-top:6px}
.price{font-weight:900;color:var(--accent-price);font-size:18px}
.badge{display:inline-block;padding:6px 8px;border-radius:8px;font-weight:700;font-size:12px;margin-left:6px}
.badge.hard{background:linear-gradient(90deg,var(--hard),#f97316);color:#fff}
.badge.sale{background:linear-gradient(90deg,var(--sale),#0aa66b);color:#fff}
.card-actions{display:flex;gap:8px;margin-top:12px}
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.45);display:none;align-items:center;justify-content:center;z-index:60;padding:16px}
.modal-backdrop.show{display:flex}
.modal{background:var(--card);width:100%;max-width:980px;border-radius:12px;padding:16px;box-shadow:0 10px 40px rgba(0,0,0,0.2);max-height:88vh;overflow:auto}
.modal-grid{display:grid;grid-template-columns:1fr 320px;gap:20px}
.gallery-main img{width:100%;height:360px;object-fit:contain;border-radius:8px;background:var(--glass)}
.gallery-thumbs{display:flex;gap:8px;margin-top:8px;overflow:auto}
.gallery-thumbs .gthumb{width:72px;height:56px;object-fit:cover;border-radius:6px;cursor:pointer;opacity:0.9}
.gthumb.active{outline:3px solid var(--accent);opacity:1}
.cart-mini{background:var(--surface);padding:10px;border-radius:8px;border:1px solid var(--border)}
.cart-row{display:flex;gap:8px;align-items:center}
.cart-row img{width:48px;height:40px;object-fit:cover;border-radius:6px}
.order-summary{background:var(--glass);padding:12px;border-radius:8px;margin-top:8px}
.checkout-grid{display:flex;gap:16px;flex-wrap:wrap}
.checkout-grid > div{flex:1;min-width:300px}
.pay-panel{width:360px}
.input,.textarea{width:100%;padding:8px;border-radius:8px;border:1px solid var(--border);background:var(--card);margin-top:8px}
.textarea{min-height:80px}
.chat-floating{position:fixed;right:18px;bottom:18px;width:300px;border-radius:10px;overflow:hidden;border:1px solid var(--border);background:var(--card);z-index:70;box-shadow:0 10px 30px rgba(0,0,0,0.08)}
.chat-head{padding:8px 12px;background:var(--surface);border-bottom:1px solid var(--border);font-weight:700}
.chat-body{padding:10px}
.chat{height:180px;overflow:auto;padding:8px;border-radius:8px;background:var(--glass);display:flex;flex-direction:column;gap:8px}
.msg{max-width:78%;padding:8px 10px;border-radius:8px}
.msg.user{align-self:flex-end;background:#111;color:#fff}
.msg.owner{align-self:flex-start;background:var(--border);color:var(--text)}
.hint{color:var(--muted)}
.badges{display:flex;gap:6px;align-items:center}
.small .btn{font-size:12px;padding:6px 8px}

/* responsive */
@media(max-width:900px){
  .modal-grid{grid-template-columns:1fr}
  .card-media{flex-basis:150px}
  .gallery-main img{height:240px}
}
